<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Names Picker</title>
</head>
<body>
    <h1>Random Names Picker</h1>
    <input type="text" id="nameInput" placeholder="Enter names separated by commas" size="40">
    <button onclick="selectNames()">Generate!</button>
    <p id="result"></p>

    <script>
        function getNamesFromQueryString() {
            const params = new URLSearchParams(window.location.search);
            const names = params.get('names');
            return names ? names.split(',') : [];
        }

        function populateInputField() {
            const queryNames = getNamesFromQueryString();
            if (queryNames.length > 0) {
                document.getElementById('nameInput').value = queryNames.join(',');
            }
        }

        function updateQueryString(names) {
            const params = new URLSearchParams(window.location.search);
            params.set('names', names.join(','));
            window.history.replaceState({}, '', `${window.location.pathname}?${params}`);
        }

        function selectNames() {
            const inputNames = document.getElementById('nameInput').value.split(',');
            const queryNames = getNamesFromQueryString();
            const allNames = [...new Set([...inputNames, ...queryNames])].filter(name => name.trim() !== '');

            if (allNames.length < 2) {
                document.getElementById('result').innerText = 'Please enter at least two names.';
                return;
            }

            const selectedNames = [];
            while (selectedNames.length < 2) {
                const randomIndex = Math.floor(Math.random() * allNames.length);
                const selectedName = allNames[randomIndex];
                if (!selectedNames.includes(selectedName)) {
                    selectedNames.push(selectedName);
                }
            }

            document.getElementById('result').innerText = `Selected names: ${selectedNames.join(', ')}`;
            updateQueryString(allNames);
        }

        // Populate the input field with query string names on page load
        window.onload = populateInputField;
    </script>
</body>
</html>
This code will update the query string with the names from the input field and the query string when the user presses the "Select" button. Let me know if you need any further adjustments!


Edit in Pages





AI-generated content may be incorrect
